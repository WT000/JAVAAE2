# TEST PLAN

Click [here](https://github.com/WT000/JAVAAE2/blob/main/ae2/documentation/GeneralDocs.md) to go back to the main documentation for the app.

The code already has unit tests to ensure classes and methods work as intended, but it's always good to ensure that everything's working together. Here's a recap of the use cases:
- **UC1**: Admins can set remote bank properties which are validated
- **UC2**: Admins can view, add, update, and remove items in the catalogue, a quantity of 0 should automatically disable it
- **UC3**: Admins can view and modify ALL users in the system
- **UC4**: Admins can view and modify ALL orders in the system, specifically their status
- **UC5**: Admins can refund orders, logging the transaction to a file
- **UC6**: Anons/Customers can view items in the catalogue, only viewing out of stock / disabled items if they search for it
- **UC7**: Anons/Customers can add and remove items from their basket, but only if they're in stock
- **UC8**: Anons can sign up for an account, giving them access to viewModifyUser (self), checkout, and orders
- **UC9**: Customers can add their personal details to their account, credit card's can be left, stored in the session, or stored in the DB
- **UC10**: Customers can checkout their basket which (after verifying payment / stock levels) decrements stock, creates an order / invoice, and logs to a file
- **UC11**: Customers can view their own orders
- **UC12**: Deactiavted accounts cannot be logged into
- **UC13**: Money should be transfered between accounts when a transaction or refund takes place

# TESTS (37)
| Test Number | Use Case(s) | Test Method                                                                                                         | Test Result (r1.0)                                                                                                                                | PASS / FAIL |
|-------------|----------|---------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------|-------------|
| 1.1         | UC1      | Attempt to set entirely valid properties without optional information.                                              | The properties successfully validate against the remote bank and apply.                                                                           | PASS        |
| 1.2         | UC1      | Attempt to set entirely valid properties with optional information.                                                 | The properties successfully validate against the remote bank and apply.                                                                           | PASS        |
| 1.3         | UC1      | Attempt to set the properties as non-admin roles.                                                                   | The properties page cannot be navigated to, nor do the properties change.                                                                         | PASS        |
| 1.4         | UC1      | Attempt to set invalid properties (invalid URL / Card / Username / Password / Name on Card / Expiry Date).          | In all cases where invalid data is given, the properties don't update.                                                                            | PASS        |
| 2.1         | UC2      | Attempt to add a new item to the catalogue as an admin with a quantity greater than 0.                              | The item is successfully put into the database and can be added to the cart.                                                                      | PASS        |
| 2.2         | UC2      | Attempt to add a new item to the catalogue as an admin with a quantity of 0.                                        | The item is successfully put into the database, but can only be viewed when searched for by non-admins, making it deactivated.                    | PASS        |
| 2.3         | UC2      | Attempt to add a new item to the catalogue as non-admin roles.                                                      | The add item page cannot be navigated to, items are not added to the database.                                                                    | PASS        |
| 2.4         | UC2      | Attempt to add a new item with invalid fields.                                                                      | When price or quantity are below 0, they're automatically set to 0 to avoid negative values.                                                      | PASS        |
| 2.5         | UC2      | Attempt to update items similarly to the tests above, only admins should be able to do it and with valid values.    | Items are successfully updated in the database but only if they're an admin, no invalid values are submitted.                                     | PASS        |
| 2.6         | UC2      | Attempt to delete items, only admins should be able to do this.                                                     | Items are successfully removed from the database, orders don't break.                                                                             | PASS        |
| 3.1         | UC3      | Attempt to update a user (specifically their role and status) as an admin.                                          | User roles and status are successfully updated to the appropriate values. User card details are kept hidden from admins.                          | PASS        |
| 3.2         | UC3      | Attempt to view all users as an admin.                                                                              | Every user is displayed on the page, giving links to their update page.                                                                           | PASS        |
| 3.3         | UC3      | Attempt to view all users as a non-admin.                                                                           | Non-admins are denied entry to the page.                                                                                                          | PASS        |
| 4.1         | UC4      | Attempt to update an order (specifically its status) as an admin.                                                   | The order details are successfully updated, allowing the user to see its current status.                                                          | PASS        |
| 4.2         | UC4      | Attempt to update an order as a non-admin.                                                                          | The order details cannot be updated.                                                                                                              | PASS        |
| 4.3         | UC4      | Attempt to view all orders as an admin and non-admin.                                                               | All orders are displayed to the admin and allows for search functions, whilst non-admins don't get this functionality.                            | PASS        |
| 5.1         | UC5/13   | Attempt to refund an order as an admin when the properties account has enough balance.                              | The order is refunded to the customers card and makes the invoice status REFUNDED.                                                                | PASS        |
| 5.2         | UC5      | Attempt to refund an order as an admin when the properties account doesn't have enough balance / is incorrect.      | The order isn't refunded, keeping the status how it currently is.                                                                                 | PASS        |
| 5.3         | UC5      | Attempt to refund an order as a non-admin.                                                                          | The order isn't refunded.                                                                                                                         | PASS        |
| 6.1         | UC6      | Attempt to view items in the catalogue without searching.                                                           | Only available items are shown to the users.                                                                                                      | PASS        |
| 6.2         | UC6      | Attempt to view items in the catalogue through a search.                                                            | The appropriate items are shown, any unavailable items cannot be added to the cart.                                                               | PASS        |
| 6.3         | UC6      | Attempt to view item details by clicking on the details button.                                                     | Additional information such as its current stock is shown to the user.                                                                            | PASS        |
| 7.1         | UC7      | Attempt to add an item which is in stock to the cart.                                                               | The item is added to the cart.                                                                                                                    | PASS        |
| 7.2         | UC7      | Attempt to add an item which isn't in stock to the cart.                                                            | The item cannot be added to the cart.                                                                                                             | PASS        |
| 7.3         | UC7      | Attempt to go onto the cart page when a basket item is no longer in the database.                                   | The user basket is cleared to avoid any errors.                                                                                                   | PASS        |
| 8.1         | UC8      | Attempt to sign up for an account.                                                                                  | The sign up page successfully shows, allowing them to enter their details and then view customer-related pages.                                   | PASS        |
| 8.2         | UC8      | Attempt to sign up for an account with an already used username.                                                    | The system rejects them from using that username.                                                                                                 | PASS        |
| 9.1         | UC9      | Attempt to enter valid details into the account page.                                                               | All details are allowed to pass through, adding them to the users account in the database.                                                        | PASS        |
| 9.2         | UC9      | Attempt to select the save to DB option when entering a card.                                                       | The credit card details (excluding cvv) are saved to the database instead of the session.                                                         | PASS        |
| 9.3         | UC9      | Attempt to enter invalid information in the account page, such as an invalid card number, expired expiry date, etc. | The changes are denied, stopping them from being saved into the database.                                                                         | PASS        |
| 10.1        | UC10/13  | Attempt to checkout the basket with valid item quantities and user account balance.                                 | The payment is successful, converting the basket items into an invoice, decremeting stock in the database, and redirecting the user to the order. | PASS        |
| 10.2        | UC10     | Attempt to checkout the basket with valid item quantities and invalid user balance.                                 | The payment isn't successful, an invoice isn't created and an error is displayed.                                                                 | PASS        |
| 10.3        | UC10     | Attempt to checkout the basket with invalid item quantities (too many items or a deleted item).                     | The payment isn't successful, an invoice isn't created and an error is displayed.                                                                 | PASS        |
| 11.1        | UC11     | Attempt to view the orders page after checking out.                                                                 | The invoice and other user-related invoices are listed on the page, allowing them to view their current status.                                   | PASS        |
| 11.2        | UC11     | Attempt to view the orders page as a non-customer.                                                                  | The user is redirected back to the home page.                                                                                                     | PASS        |
| 11.3        | UC11     | Attempt to view an order which isn't tied to that user.                                                             | The user isn't allowed to view the order.                                                                                                         | PASS        |
| 12.1        | UC12     | Attempt to login after an administrator has deactivated the account.                                                | The account cannot be logged into and any orders are preserved.                                                                                   | PASS        |
